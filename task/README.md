# 용어 정리
## JVM 구조
<img width="527" alt="2018-07-31 10 44 57" src="https://user-images.githubusercontent.com/37525926/43463742-52472d64-9514-11e8-9546-21dce4654daa.png">
  
  - 메서드 영역
    - 모든 스레드가 공유한다.
    - classLoader가 읽은 클래스의 정보들이 저장된다.
    - 멤버 변수(필드), 클래스 변수(Static 변수), 생성자와 메소드를 저장하는 공간이다.
  - 힙 영역
    - JVM이 관리하는 프로그램 상에서 데이터를 저장하기 위해 런타임 시 동적으로 할당하여 사용하는 영역이다
    - new로 생성된 객체(인스턴스)와 배열이 저장 된다
  - 스택 영역
    - 각 스레드마다 하나씩 생성된다.
    - 메서드가 호출될 때 메서드 정보를 저장하고 메서드가 끝나면 제거한다.
    - 메서드 정보, 지역변수, 매개변수, 연산결과 등이 저장된다. 
    
## AOP Proxy
  - 런타임 시 AOP를 적용할 때 소스 코드나 클래스 정보 자체를 변경하지 않고 프록시를 이용해 적용한다.
  - 핵심 로직을 구현한 객체에 직접 접근하는 것이 아니라 중간에 프록시를 생성해 프록시를 통해 핵심 로직을 구현한 객체에 접근한다. 
  - 이 과정에서 프록시는 공통 기능을 실행한 뒤 대상 객체의 실제 메서드를 호출하거나, 또는 대상 객체의 실제 메서드를 호출한 뒤 공통 기능을 실행하게 된다. 
  = 스프링 컨테이너를 초기화하는 과정서 설정 정보에 지정한 빈 객체에 대한 프록시 객체를 생성하고, 원본 빈 객체 대신 프록시 객체를 사용하도록 한다. 
  - 프록시는 핵심 로직을 실행하기 전 또는 후에 공통 기능을 적용하는 방식으로 AOP를 구현한다. 
  - 스프링은 Aspect의 적용 대상이 되는 객체에 대한 프록시를 만들어 제공한다. 
  - 대상객체가 인터페이스를 구현하고 있다면 스프링이 제공하는 방법으로 객체를 생성하고, 인터페이스가 구현도지 않았다면 CGLIB을 이용해 프록시를 생성한다. 

## AOP 용어
  - Advice
    - 언제 공통 관심 기능을 핵심 로직에 적용할지 정의
    - 메서드 호추전에 할지 후에 할지 등등
  - JoinPoint
    - Advice를 적용 가능한 지점을 의미. 
    - 메서드 호출, 필드값 변경 등
  - Pointcut
    - Jointpoint의 부분 집합으로, 실제 Advice가 적용되는 JoinPoint.
  - Weaving 
    - Advice를 핵심 로직 코드에 적용하는 것을 말한다.
  - Aspect
    - 여러 객체에 공통으로 적용되는 기능.

##  쓰레드 공유객체
  - 하나의 객체를 여러 쓰레드가 사용한다는 의미.
  - 싱글스레드에선 상관 없지만 멀티 스레드에선 공유객체를 작업할 때 동기화 작업이 필요하다.
  - 동기화란?
    - 여러 개의 쓰레드가 한 공유자원을 서로 사용하려 할 때, 하나의 쓰레드만 제외하고 나머지는 사용을 못하도록 막는 방법이다.
    - 동기화 방법들 중 하나는 동기화 하고 싶은 메서드 앞에 synchronized를 붙이면 된다. 
    - 메서드 전체에 동기화가 걸리므로 일부분만 원한다면 동기화 블록을 만들면 된다.



